
\setcounter{section}{0}
\setcounter{figure}{0}
\graphicspath{{./figs/}{./figs/item-qi/}}

\NewsTitle{Timing-Centric Software Synthesis for Cyber-Physical Systems}
\NewsAuthor{Qi Zhu, University of California, Riverside}

Software design and implementation have become increasingly challenging for cyber-physical systems, with growing software complexity in terms of both scale and features as well as adoption of more distributed and networked hardware platforms. As an example, in automotive domain, embedded software increased from 2\% to 13\% of a vehicle's total value from year 2000 to 2010, and the number of lines of code increased from 1 million to more than 10 million~\cite{QuoVadis, IEEESpectrumAuto}. On the hardware side, the number of ECUs (electronic control units) in a standard car has gone from 20 to over 50 in the past decade~\cite{IEEESpectrumAuto}. The traditional federated architecture, where each function is deployed to one ECU and provided as a black-box by Tier-1 supplier, is shifting to the integrated architecture, in which one function can be distributed over multiple ECUs and multiple functions can be supported by one ECU~\cite{DiNatale_IEEE10}. This leads to significantly more sharing and contention among software functions over multicore and distributed platforms.

At the core of CPS software challenges is \emph{timing}, which has critical impacts on both functional correctness and various design metrics such as control performance, fault tolerance and security~\cite{edward_11, ASV07Automotive, mueller_hcsp06}. In particular, the synthesis of CPS software remains hindered by timing-related issues: 1) \emph{diversity of timing requirements} from different design metrics, some with conflicting constraints; 2) \emph{complexity of timing analysis} under complex scale, hierarchy and concurrency of computation and communication; and 3) \emph{uncertainty of timing behavior} resulting from dynamic environment, data input and platform conditions. 

Current synthesis solutions and practices do not adequately address these timing challenges. Timing constraints are often set in an ad-hoc fashion without quantitative analysis of their impacts on multiple related metrics, and software synthesis is often conducted without continuous and holistic consideration of timing. In the widely-adopted model-based design paradigm, system functionality is first captured in a functional model for early simulation and validation, and then commonly synthesized to software task implementations on hardware platforms. While timing is usually considered during the mapping of software tasks onto hardware platforms, it is \emph{rarely addressed during the generation of software tasks from initial functional models}, and thereby leaving a significant gap in the synthesis process.  As we have observed from our prior work~\cite{Zheng_TCAD16, Deng_ICCPS15, Deng_SIES14, Zhu_DATE13, Guo_CODES14, Deng_TC16}, such issues during software synthesis often lead to infeasible solutions, long design cycles, and ultimately inferior and error-prone CPS software implementations.

\smallskip
\noindent
\textbf{Our Software Synthesis Work:} In past, we have worked on task mapping problems for distributed embedded systems and cyber-physical systems, including task allocation and scheduling for schedulability, latency, memory usages, and extensibility~\cite{Zhu_RTAS09, Zhu_TII10, Zhu_TECS12, Zeng_TECS14}, exploring task activation periods for schedulability~\cite{Davare_DAC07}, and task mapping with security considerations~\cite{Lin_ICCAD13, Lin_ICCAD14, Lin_TODAES15}. As traditional mapping problems, these approaches only focus on the mapping stage.

Recently, we started investigating timing-driven task generation, and have proposed algorithms for multi-task generation of finite state machines (FSMs) for timing robustness~\cite{Zhu_DATE13} and multi-task generation of dataflows with respect to schedulability, reusability and modularity~\cite{Deng_SIES14, Deng_ICCPS15}.  These works only address non-hierarchical functional models with single model of computation, however, the results have demonstrated \textit{significant improvements from considering timing during task generation of functional models}. For instance, in~\cite{Deng_SIES14}, a $20\%$-$40\%$ reduction in latency is achieved by addressing timing during multi-task generation of dataflows. In~\cite{Deng_ICCPS15}, timing schedulability is addressed together with modularity (defined as the number of generated runnable functions~\cite{Lublinerman_POPL09, Lublinerman_DATE08}) and reusability during synthesis of dataflows. It demonstrates that for a fuel injection system example, only considering modularity and reusability during synthesis (with algorithms from literature~\cite{Lublinerman_POPL09, Lublinerman_DATE08}) results in infeasible solutions. While using our approach that considers timing during dataflow synthesis, a trade-off of modularity for schedulability results in multiple task generation solutions that can be feasibly allocated and scheduled onto the hardware platform.

Software synthesis for cyber-physical systems is a critical and challenging area. The works above have only addressed the tip of the iceberg. There is an urgent need to have more design automation methods and tools to tackle the challenges in CPS software design, implementation and validation.

\begin{thebibliography}{10}

\bibitem{IEEESpectrumAuto}
R.~N. Charette.
\newblock {This Car Runs on Code}.
\newblock {\em IEEE Spectrum}, February 2009.

\bibitem{Davare_DAC07}
A.~Davare, Q.~Zhu, M.~D. Natale, C.~Pinello, S.~Kanajan, and
  A.~Sangiovanni-Vincentelli.
\newblock Period {O}ptimization for {H}ard {R}eal-time {D}istributed
  {A}utomotive {S}ystems.
\newblock In {\em Design Automation Conference (DAC'07)}, June 2007.

\bibitem{Deng_ICCPS15}
P.~Deng, F.~Cremona, Q.~Zhu, M.~{Di Natale}, and H.~Zeng.
\newblock {A Model-Based Synthesis Flow for Automotive CPS}.
\newblock In {\em Cyber-Physical Systems (ICCPS), 2015 ACM/IEEE International
  Conference on}, pages 198--207, April 2015.

\bibitem{Deng_TC16}
P.~Deng, Q.~Zhu, A.~Davare, A.~Mourikis, X.~Liu, and M.~{Di Natale}.
\newblock An Efficient Control-Driven Period Optimization Algorithm for
  Distributed Real-Time Systems.
\newblock {\em IEEE Transactions on Computers}, PP(99):1--1, 2016.

\bibitem{Deng_SIES14}
P.~Deng, Q.~Zhu, M.~Di~Natale, and H.~Zeng.
\newblock {Task Synthesis for Latency-Sensitive Synchronous Block Diagram}.
\newblock In {\em Industrial Embedded Systems (SIES), 2014 9th IEEE
  International Symposium on}, pages 112--121, June 2014.

\bibitem{DiNatale_IEEE10}
M.~Di~Natale and A.~Sangiovanni-Vincentelli.
\newblock {Moving From Federated to Integrated Architectures in Automotive: The
  Role of Standards, Methods and Tools}.
\newblock {\em Proceedings of the IEEE}, 98(4):603 --620, april 2010.

\bibitem{Guo_CODES14}
L.~Guo, Q.~Zhu, P.~Nuzzo, R.~Passerone, A.~Sangiovanni-Vincentelli, and E.~Lee.
\newblock {Metronomy: A Function-Architecture Co-Simulation Framework For
  Timing Verification Of Cyber-Physical Systems}.
\newblock In {\em Hardware/Software Codesign and System Synthesis (CODES+ISSS),
  2014 International Conference on}, pages 1--10, Oct 2014.

\bibitem{edward_11}
E.~A. Lee and S.~A. Seshia.
\newblock {\em {Introduction to Embedded Systems: A Cyber-Physical Systems
  Approach}}.
\newblock Lee \& Seshia, 2011.

\bibitem{Lin_ICCAD13}
C.~Lin, Q.~Zhu, C.~Phung, and A.~Sangiovanni-Vincentelli.
\newblock {Security-Aware Mapping for CAN-Based Real-Time Distributed
  Automotive Systems}.
\newblock In {\em Computer-Aided Design (ICCAD), 2013 IEEE/ACM International
  Conference on}, pages 115--121, 2013.

\bibitem{Lin_ICCAD14}
C.~Lin, Q.~Zhu, and A.~Sangiovanni-Vincentelli.
\newblock {Security-Aware Mapping for TDMA-Based Real-Time Distributed
  Systems}.
\newblock In {\em Computer-Aided Design (ICCAD), 2014 IEEE/ACM International
  Conference on}, pages 24--31, Nov 2014.

\bibitem{Lin_TODAES15}
C.-W. Lin, B.~Zheng, Q.~Zhu, and A.~Sangiovanni-Vincentelli.
\newblock Security-Aware Design Methodology and Optimization for Automotive
  Systems.
\newblock {\em ACM Trans. Des. Autom. Electron. Syst.}, 21(1):18:1--18:26, Dec.
  2015.

\bibitem{Lublinerman_POPL09}
R.~Lublinerman, C.~Szegedy, and S.~Tripakis.
\newblock {Modular Code Generation from Synchronous Block Diagrams: Modularity
  vs. Code Size}.
\newblock In {\em Proceedings of the 36th annual ACM SIGPLAN-SIGACT symposium
  on Principles of programming languages}, POPL '09, pages 78--89, New York,
  NY, USA, 2009. ACM.

\bibitem{Lublinerman_DATE08}
R.~Lublinerman and S.~Tripakis.
\newblock {Modularity vs. Reusability: Code Generation from Synchronous Block
  Diagrams}.
\newblock In {\em Proceedings of the conference on Design, automation and test
  in Europe}, DATE '08, pages 1504--1509, New York, NY, USA, 2008. ACM.

\bibitem{mueller_hcsp06}
F.~Mueller.
\newblock {Challenges for Cyber-Physical Systems: Security, Timing Analysis and
  Soft Error Protection}.
\newblock In {\em High-Confidence Software Platforms for Cyber-Physical Systems
  (HCSP-CPS) Workshop, Alexandria, Virginia}, page~4, 2006.

\bibitem{QuoVadis}
A.~Sangiovanni-Vincentelli.
\newblock {Quo Vadis, {SLD}? Reasoning About the Trends and Challenges of
  System Level Design}.
\newblock {\em Proceedings of the IEEE}, 95(3):467--506, March 2007.

\bibitem{ASV07Automotive}
A.~Sangiovanni-Vincentelli and M.~Di~Natale.
\newblock {Embedded System Design for Automotive Applications}.
\newblock {\em Computer}, 40(10):42 --51, 2007.

\bibitem{Zeng_TECS14}
H.~Zeng, M.~D. Natale, and Q.~Zhu.
\newblock {Minimizing Stack and Communication Memory Usage in Real-Time
  Embedded Applications}.
\newblock {\em ACM Trans. Embed. Comput. Syst.}, 13(5s):149:1--149:25, July
  2014.

\bibitem{Zheng_TCAD16}
B.~Zheng, P.~Deng, R.~Anguluri, Q.~Zhu, and F.~Pasqualetti.
\newblock Cross-Layer Codesign for Secure Cyber-Physical Systems.
\newblock {\em IEEE Transactions on Computer-Aided Design of Integrated
  Circuits and Systems}, 35(5):699--711, May 2016.

\bibitem{Zhu_DATE13}
Q.~Zhu, P.~Deng, M.~Di~Natale, and H.~Zeng.
\newblock {Robust and Extensible Task Implementations of Synchronous Finite
  State Machines}.
\newblock In {\em Design, Automation Test in Europe Conference Exhibition
  (DATE), 2013}, pages 1319--1324, March 2013.

\bibitem{Zhu_TII10}
Q.~Zhu, Y.~Yang, M.~D. Natale, E.~Scholte, and A.~Sangiovanni-Vincentelli.
\newblock {Optimizing the Software Architecture for Extensibility in Hard
  Real-Time Distributed Systems}.
\newblock {\em the IEEE Transactions on Industrial Informatics}, 6(4):621--636,
  2010.

\bibitem{Zhu_RTAS09}
Q.~Zhu, Y.~Yang, E.~Scholte, M.~D. Natale, and A.~Sangiovanni-Vincentelli.
\newblock {Optimizing Extensibility in Hard Real-Time Distributed Systems}.
\newblock In {\em RTAS '09: Proceedings of the 2009 15th IEEE Real-Time and
  Embedded Technology and Applications Symposium}, pages 275--284, 2009.

\bibitem{Zhu_TECS12}
Q.~Zhu, H.~Zeng, W.~Zheng, M.~D. Natale, and A.~Sangiovanni-Vincentelli.
\newblock {Optimization of Task Allocation and Priority Assignment in Gard
  Real-Time Distributed Systems}.
\newblock {\em ACM Trans. Embed. Comput. Syst.}, 11(4):85:1--85:30, 2012.

\end{thebibliography}


